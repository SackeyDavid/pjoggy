<div class="container mt-5">
    <div class="row mb-4">
    <div class="col-12 ev-padlr-0">
        
        <h3 class="display-6 ev-head-padl ev-display-only-non-mobile">
        <!-- <i class="bi bi-clock"></i> &nbsp;  -->
        Favorites
        
        </h3>
    </div>
    </div>  

        
    <!-- <ng-container *ngIf="!userFavorites.data?.length">
        <div class="d-flex justify-content-center"> -->
            <!-- <div class="spinner-grow" role="status">  -->
            <!-- <span class="spinner-grow spinner-grow-sm text-secondary ev-spinner" role="status" aria-hidden="true"></span>
            <span class="spinner-grow spinner-grow-sm text-secondary ev-spinner" role="status" aria-hidden="true"></span>
            <span class="spinner-grow spinner-grow-sm text-secondary ev-spinner" role="status" aria-hidden="true"></span> -->
            
            <!-- </div> -->
        <!-- </div>
    </ng-container> -->

    <div class="row" style="margin-bottom: 2%;" *ngIf="userFavorites">
    <div class="col-sm-12 col-md-3 col-lg-3" style="margin-bottom: 2%;padding-left: 10px; padding-right: 10px;" *ngFor="let favorites of userFavorites; let i = index">
      <div class="card mb-2 event-card" *ngIf="i < favorites_loadIndex">
        <div class="save_live_event_div_container" style="padding: 8px;">
          <div class="save_live_event_div" *ngIf="!hasBeenAddedToFavorites(favorites.id)">
              <button aria-label="Save this Event" type="button" (click)="saveEventAsFavorite(favorites.id)" class="save_live_event_button">
                  <svg
                      class="favorite-{{favorites.id}}"
                      viewBox="0 0 32 32"
                      xmlns="http://www.w3.org/2000/svg"
                      style="display: block; fill: rgba(0, 0, 0, 0.0); height: 16px; width: 16px; stroke: rgb(255, 255, 255); stroke-width: 5px; overflow: visible;"
                      aria-hidden="true"
                      role="presentation"
                      focusable="false"
                  >
                      <path
                          d="m16 28c7-4.733 14-10 14-17 0-1.792-.683-3.583-2.05-4.95-1.367-1.366-3.158-2.05-4.95-2.05-1.791 0-3.583.684-4.949 2.05l-2.051 2.051-2.05-2.051c-1.367-1.366-3.158-2.05-4.95-2.05-1.791 0-3.583.684-4.949 2.05-1.367 1.367-2.051 3.158-2.051 4.95 0 7 7 12.267 14 17z"
                      ></path>
                  </svg>
              </button>
          </div>

          <div class="save_live_event_div" *ngIf="hasBeenAddedToFavorites(favorites.id)">
            <button aria-label="Unsave this Event" type="button" (click)="removeEventFromFavorites(favorites.id)" class="save_live_event_button">
                <svg
                    class="favorite-{{favorites.id}}"
                    viewBox="0 0 32 32"
                    xmlns="http://www.w3.org/2000/svg"
                    style="display: block; fill: rgba(255, 101, 80, 0.4); height: 16px; width: 16px; stroke: rgb(255, 255, 255); stroke-width: 2px; overflow: visible;"
                    aria-hidden="true"
                    role="presentation"
                    focusable="false"
                >
                    <path
                        d="m16 28c7-4.733 14-10 14-17 0-1.792-.683-3.583-2.05-4.95-1.367-1.366-3.158-2.05-4.95-2.05-1.791 0-3.583.684-4.949 2.05l-2.051 2.051-2.05-2.051c-1.367-1.366-3.158-2.05-4.95-2.05-1.791 0-3.583.684-4.949 2.05-1.367 1.367-2.051 3.158-2.051 4.95 0 7 7 12.267 14 17z"
                    ></path>
                </svg>
            </button>
          </div>

          <div class="event_social_share" style="visibility: hidden;">
            <button aria-label="Save this Event" type="button" (click)="openModal(favorites.event_url)" class="save_live_event_button">
                <svg 
                  version="1.1" 
                  id="Capa_1" 
                  xmlns="http://www.w3.org/2000/svg" 
                  xmlns:xlink="http://www.w3.org/1999/xlink" 
                  x="0px" 
                  y="0px"
                  viewBox="0 0 512 512" 
                  style="enable-background:new 0 0 512 512;display: block; fill: #fff; height: 12px; width: 16px; stroke: rgb(255, 255, 255); stroke-width: 30px; overflow: visible;" xml:space="preserve">
                    
                  <path d="M406,332c-29.636,0-55.969,14.402-72.378,36.571l-141.27-72.195C194.722,288.324,196,279.809,196,271
                        c0-11.931-2.339-23.324-6.574-33.753l148.06-88.958C354.006,167.679,378.59,180,406,180c49.626,0,90-40.374,90-90
                        c0-49.626-40.374-90-90-90c-49.626,0-90,40.374-90,90c0,11.47,2.161,22.443,6.09,32.54l-148.43,89.18
                        C157.152,192.902,132.941,181,106,181c-49.626,0-90,40.374-90,90c0,49.626,40.374,90,90,90c30.122,0,56.832-14.876,73.177-37.666
                        l140.86,71.985C317.414,403.753,316,412.714,316,422c0,49.626,40.374,90,90,90c49.626,0,90-40.374,90-90
                        C496,372.374,455.626,332,406,332z M406,30c33.084,0,60,26.916,60,60s-26.916,60-60,60s-60-26.916-60-60S372.916,30,406,30z
                        M106,331c-33.084,0-60-26.916-60-60s26.916-60,60-60s60,26.916,60,60S139.084,331,106,331z M406,482c-33.084,0-60-26.916-60-60
                        s26.916-60,60-60s60,26.916,60,60S439.084,482,406,482z"/>

                  </svg>
            </button>                      
        </div>
        </div>
      <div (click)="gotoPreview(favorites.id)" class="img-fit-img-fix-background-cover" style="background-image: url(&quot;http://events369.logitall.biz/storage/banner/{{favorites.banner_image}}&quot;);height: 20vh;">
        <ng-container *ngIf="favorites.ticketing == '0'">
          <span class="price-span">Free</span>
        </ng-container>
        <ng-container *ngIf="favorites.ticketing == '2'">
          <span class="price-span">Donation</span>
        </ng-container>
        <ng-container *ngIf="favorites.ticketing == '1'">
          <span class="price-span">{{favorites.currency}}{{favorites.price}}</span>
        </ng-container>
        <ng-container *ngIf="favorites.ticketing == '1' && favorites.qty_remaining == 0">
          <span class="price-span">Sold out</span>
        </ng-container>
        <ng-container *ngIf="favorites.ticketing == '1' && getTicketSalesStatus(favorites.ticket_sales_end_date) == 0">
          <span class="price-span">Sales ended</span>
        </ng-container>
      </div>
        <!-- <img (click)="gotoPreview(favorites.id)" src="http://events369.logitall.biz/storage/banner/{{favorites.banner_image}}" class="card-img-top" alt="..."> -->                
      </div>
      <div class="" (click)="gotoPreview(favorites.id)">
        <p class="card-text">
          <span class="bold card-title">{{favorites.title}}</span>
          <span class="lead text-muted">{{getEventStartDateFormatted(favorites.start_date_time)}}</span><br>
          <span class="lead text-muted">Hosted by: <span style="color: #fe5104;">{{favorites.created_by}}</span></span>
        </p>
      </div>
    </div>
    
    <div class="row" *ngIf="!userFavorites || userFavorites?.length == 0">
      <div style="height: 20%;width: 100%;padding-bottom: 10%;">
        <p style="display: block;text-align: center;margin-left: 10%;margin-right: 10%;padding-top: 1%;">
          <i class="bi bi-heart-fill" mode="ios" style="color: #a1949c;font-size: 60px;"></i>
          <span style="display: block;font-weight: 400;color: rgb(41, 39, 39);font-size: 20px;">Like your favorite events</span>
          <p style="font-size: 14px;text-align: center;color: #888484;margin-left: 10%;margin-right: 10%;">
            See them here

        </p>
      </div>
      
    <div class="d-flex justify-content-center" style="height: max-content;">
      <a href="/login" *ngIf="userID == null" class="btn btn-dark btn-lg">Login</a>
    </div>
    

    </div>
    
    
    <br><br><br>
    <div class="d-flex justify-content-center">
      <button  *ngIf="favorites_loadIndex < userFavorites?.length" class="btn btn-dark btn-lg" (click)="loadMoreFavorites()" type="button">
          <!-- <span *ngIf="loading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> -->
          Show more
        </button>
        
        <button  *ngIf="(favorites_loadIndex >= userFavorites?.length) && (userFavorites?.length >= 8)" class="btn btn-dark btn-lg" (click)="loadLessFavorites()" type="button">
          <!-- <span *ngIf="loading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> -->
          Show less
      </button>
    </div>
    </div>

    
    <br><br><br>
    <div class="d-flex justify-content-center" *ngIf="userFavorites.prev_page_url || userFavorites.next_page_url">
        <!-- <button  *ngIf="loadIndex < events_in_six_hrs.length" class="btn btn-dark btn-lg" (click)="loadMore()" type="button">
            <span *ngIf="loading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            Load more
          </button> -->
          <nav aria-label="Page navigation example">
            <ul class="pagination">
              <li class="page-item" *ngIf="events_in_six_hrs.current_page !== 1">
                <a class="page-link" aria-label="Previous" (click)="getFavoriteEventsNextPage(userFavorites.prev_page_url)">
                  <span aria-hidden="true">&laquo;</span>
                  <span class="sr-only">Previous</span>
                </a>
              </li>
              <li class="page-item"><a class="page-link">{{userFavorites.current_page}} of {{userFavorites.last_page}}</a></li>
              <!-- <li class="page-item"><a class="page-link" href="#">2</a></li>
              <li class="page-item"><a class="page-link" href="#">3</a></li> -->
              <li class="page-item" *ngIf="events_in_six_hrs.to < events_in_six_hrs.total">
                <a class="page-link" aria-label="Next" (click)="getFavoriteEventsNextPage(userFavorites.next_page_url)">
                  <span aria-hidden="true">&raquo;</span>
                  <span class="sr-only">Next</span>
                </a>
              </li>
            </ul>
          </nav>

          <!-- <a href="/" *ngIf="loadIndex >= events_in_six_hrs.length" class="btn btn-dark btn-lg">Show all events</a> -->
      </div>

</div>
